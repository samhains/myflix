class Video < ActiveRecord::Base
  has_many :category_videos
  has_many :categories, -> {order( :name )}, through: :category_videos
  validates_presence_of :title, :description

  def self.search_by_title(title)
    if title.blank?
      return []
    else
    
      where(["title LIKE ?", "%#{title}%"]).order('created_at ASC')
    end
  end

end
